<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Image Submited form</title>
    <meta name="description" content="A starter example with all elements and components used in Pico design system. Built with Pico CSS.">
    <link rel="shortcut icon" href="https://picocss.com/favicon.ico">
    <link rel="canonical" href="https://picocss.com/examples/preview/">
    <!-- Pico.css -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">-->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.classless.min.css">

  </head>

  <body>

      <!-- Form elements-->
    <section id="form">
        <form id="formElem">
          <h2>Form elements</h2>

          <!-- Search 
          <label for="search">Search</label>
          <input type="search" id="search" name="search" placeholder="Search">-->

          <!-- Text -->
          <label for="text">Text</label>
          <input type="text" id="text" name="text" placeholder="Text" style="font-size:16px;">
          <small>ทดสอบversion2</small>

          <!-- Select 
          <label for="select">Select</label>
          <select id="select" name="select" required>
            <option value="" selected>Select…</option>
            <option>…</option>
          </select> -->

          <!-- File browser -->

          <label for="file">แนบรูปภาพ1
            <input type="file" id="file" name="picture" accept="image/*" multiple>
          </label>
          
          <div>
            <a id ="dem1" href="#" aria-busy="false"></a>
            <p id="d1"></p>
           </div>

          <label for="file">แนบรูปภาพ2
            <input type="file" id="file1" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem2" href="#" aria-busy="false"></a>
            <p id="d2"></p>
           </div>

          <label for="file">แนบรูปภาพ3
            <input type="file" id="file2" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem3" href="#" aria-busy="false"></a>
            <p id="d3"></p>
           </div>

          <label for="file">แนบรูปภาพ4
            <input type="file" id="file3" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem4" href="#" aria-busy="false"></a>
            <p id="d4"></p>
           </div>

          <label for="file">แนบรูปภาพ5
            <input type="file" id="file4" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem5" href="#" aria-busy="false"></a>
            <p id="d5"></p>
           </div>

          <label for="file">แนบรูปภาพ6
            <input type="file" id="file5" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem6" href="#" aria-busy="false"></a>
            <p id="d6"></p>
           </div>

          <label for="file">แนบรูปภาพ7
            <input type="file" id="file6" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem7" href="#" aria-busy="false"></a>
            <p id="d7"></p>
           </div>

          <label for="file">แนบรูปภาพ8
            <input type="file" id="file7" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem8" href="#" aria-busy="false"></a>
            <p id="d8"></p>
           </div>

          <label for="file">แนบรูปภาพ9
            <input type="file" id="file8" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem9" href="#" aria-busy="false"></a>
            <p id="d9"></p>
           </div>

          <label for="file">แนบรูปภาพ10
            <input type="file" id="file9" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem10" href="#" aria-busy="false"></a>
            <p id="d10"></p>
           </div>

          <label for="file">แนบรูปภาพ11
            <input type="file" id="file10" name="picture" accept="image/*">
          </label>
          <div>
            <a id ="dem11" href="#" aria-busy="false"></a>
            <p id="d11"></p>
           </div>

           <label for="file">แนบรูปภาพ12
            <input type="file" id="file11" name="picture" accept="image/*" multiple>
          </label>
          <div>
            <a id ="dem12" href="#" aria-busy="false"></a>
            <p id="d12"></p>
           </div>

          

          <input type="reset" value="Reset" onclick="event.preventDefault()">
          <input id = "sub1" type="submit" aria-busy="false">
          

        </form>
        
      </section><!-- ./ Form elements-->



    <script>
        formElem.onsubmit = async (e) => {
          e.preventDefault();
          document.getElementById("dem1").ariaBusy = "true";
          document.getElementById("dem2").ariaBusy = "true";
          document.getElementById("dem3").ariaBusy = "true";
          document.getElementById("dem4").ariaBusy = "true";
          document.getElementById("dem5").ariaBusy = "true";
          document.getElementById("dem6").ariaBusy = "true";
          document.getElementById("dem7").ariaBusy = "true";
          document.getElementById("dem8").ariaBusy = "true";
          document.getElementById("dem9").ariaBusy = "true";
          document.getElementById("dem10").ariaBusy = "true";
          document.getElementById("dem11").ariaBusy = "true";
          document.getElementById("dem12").ariaBusy = "true";
          
      
          let response = await fetch('https://prod-30.southeastasia.logic.azure.com:443/workflows/23543fda5fa441fdaa3dd982b2427086/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=DpasYfgNWSxNq_2J95wA8rAtNg58aYRtUbN_lVTmHP8', {
            method: 'POST',
            body: new FormData(formElem)
          });
      
          let result = await response.json();
         //alert(result.message);
         // alert(result.name);
         document.getElementById("dem1").ariaBusy = "false";
         document.getElementById("dem2").ariaBusy = "false";
         document.getElementById("dem3").ariaBusy = "false";
         document.getElementById("dem4").ariaBusy = "false";
         document.getElementById("dem5").ariaBusy = "false";
         document.getElementById("dem6").ariaBusy = "false";
         document.getElementById("dem7").ariaBusy = "false";
         document.getElementById("dem8").ariaBusy = "false";
         document.getElementById("dem9").ariaBusy = "false";
         document.getElementById("dem10").ariaBusy = "false";
         document.getElementById("dem11").ariaBusy = "false";
         document.getElementById("dem12").ariaBusy = "false";


         document.getElementById("d1").innerHTML = "จัดส่งสำเร็จ: = "+result.file;
         document.getElementById("d2").innerHTML = "จัดส่งสำเร็จ: = "+result.file1;
         document.getElementById("d3").innerHTML = "จัดส่งสำเร็จ: = "+result.file2;
         document.getElementById("d4").innerHTML = "จัดส่งสำเร็จ: = "+result.file3;
         document.getElementById("d5").innerHTML = "จัดส่งสำเร็จ: = "+result.file4;
         document.getElementById("d6").innerHTML = "จัดส่งสำเร็จ: = "+result.file5;
         document.getElementById("d7").innerHTML = "จัดส่งสำเร็จ: = "+result.file6;
         document.getElementById("d8").innerHTML = "จัดส่งสำเร็จ: = "+result.file7;
         document.getElementById("d9").innerHTML = "จัดส่งสำเร็จ: = "+result.file8;
         document.getElementById("d10").innerHTML = "จัดส่งสำเร็จ: = "+result.file9;
         document.getElementById("d11").innerHTML = "จัดส่งสำเร็จ: = "+result.file10;
         document.getElementById("d12").innerHTML = "จัดส่งสำเร็จ: = "+result.file11;
        
        };
      </script>
  </body>

</html>
